<html>
<head>
  <title>Tasting ES2017 - @yoshiko_pg</title>
  <link rel="stylesheet" href="lib/talkie.min.css">
  <link rel="stylesheet" href="lib/talkie-default.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="lib/hljs-styles/railscasts.css">
  <link rel="canonical" href="/slides/20161112-nodefes/">
</head>
<body>


<script layout="cover" invert type="text/x-markdown"
  backface="image/cover.jpg" backface-filter="blur(0px) brightness(.5)">
# Tasting ES2017

2016.11.12 [@yoshiko_pg](http://yoshiko-pg.github.io)
</script>


<script layout="cover" invert type="text/x-markdown" class="m0"
  backface="image/xmas.jpg" backface-filter="blur(2px) brightness(.5)">
# ã‚‚ã†ã™ã<br>å¹´æœ«ã§ã™ã­ï¼
</script>

<script layout="cover" invert type="text/x-markdown" class="m0"
  backface="image/newyear.jpg" backface-filter="blur(2px) brightness(.5)">
# ã‚‚ã†ã™ã<br>2017å¹´ã§ã™ã­ï¼
</script>

<script layout="cover" type="text/x-markdown" class="m0" backface="image/es.png">
# ã‚‚ã†ã™ã<br>ES2017ã®<br>ç¢ºå®šã§ã™ã­ï¼
</script>

<script layout="cover" type="text/x-markdown" class="m0" backface="image/es.png">
# ã¡ã‚‡ã£ã¨å‘³è¦‹<br>ã—ã¦ã¿ã¾ã—ã‚‡ã†ğŸ˜‹
</script>


<script layout="cover" type="text/x-markdown" class="m0" backface="image/es.png">
## â€» ãƒ†ã‚¹ãƒˆã®è©±ã§ã¯ã‚ã‚Šã¾ã›ã‚“

### âœ• Testing<br>â—¯ Tasting

ES2017ã®æ–°ä»•æ§˜ã‚’ã–ã£ãã‚Šçœºã‚ã¦ã¿ã¾ã—ã‚‡ã†ï¼
</script>


<script layout="bullets" invert type="text/x-markdown"
  backface="image/bg-profile.png" backface-filter="blur(2px) brightness(.4)">

## è‡ªå·±ç´¹ä»‹

<img src="./image/yoshiko.png" class="yoshiko">

ã‚ˆã—ã“ [@yoshiko_pg](https://twitter.com/yoshiko_pg)

Frontend engineer at <a href="http://goodpatch.com/jp"><img src="./image/goodpatch.png" class="company-logo"></a>
</script>


<script layout="bullets" type="text/x-markdown" class="book m0">
[HTML5/CSS3 ãƒ¢ãƒ€ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°](http://yoshiko.hatenablog.jp/entry/2015/11/02/081237) ã¨ã„ã†æœ¬ã‚’å‡ºã—ã¾ã—ãŸ

[![HTML5/CSS3 ãƒ¢ãƒ€ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°](./image/book.jpg)](http://www.amazon.co.jp/dp/4798141577/)

å¥½è©•ç™ºå£²ä¸­ï¼é›»å­ç‰ˆã‚‚ã‚ã‚‹ã‚ˆï¼
</script>


<script layout="bullets" type="text/x-markdown">
## ES2017ã®ä¸­èº«ã£ã¦ã©ã†ã‚„ã£ã¦æ±ºã¾ã‚‹ã®ï¼Ÿ

ES2016ä»¥é™ã®ECMAScriptç­–å®šãƒ•ãƒ­ãƒ¼ã«ã¤ã„ã¦
</script>




<script layout="bullets" type="text/x-markdown">
JavaScriptã‚„Node.jsã®ä»•æ§˜ã§ã‚ã‚‹ECMAScriptã«ã¯  
æ¬¡ã€…ã¨æ–°ã—ã„ä»•æ§˜ãŒææ¡ˆã•ã‚Œã¦ã„ãã¾ã™
</script>



<script layout="bullets" type="text/x-markdown">
ææ¡ˆã¯ä»¥ä¸‹ã®Stageã«å¾“ã£ã¦é€²ã‚“ã§ã„ãã¾ã™

- Stage 0: ã‚¢ã‚¤ãƒ‡ã‚¢
- Stage 1: Proposalï¼ˆç›®çš„ã‚„å®Ÿä¾‹ã®æç¤ºï¼‰
- Stage 2: Draftï¼ˆæ­£å¼ãªè¨˜æ³•ã§ä»•æ§˜ã‚’è¨˜è¿°ï¼‰
- Stage 3: Candidateï¼ˆä»•æ§˜å®Œæˆã€FBå—ã‘ä»˜ã‘ï¼‰
- Stage 4: Finishedï¼ˆ2ã¤ä»¥ä¸Šã®å®Ÿè£…ãŒå¿…è¦ï¼‰

2016å¹´å†…ã«Stage4ã«å…¥ã£ãŸæ©Ÿèƒ½ãŒES2017ã¨ãªã‚Šã¾ã™

*https://tc39.github.io/process-document/*  
*http://efcl.info/2015/10/18/ecmascript-paper/*
</script>


<script layout="bullets" type="text/x-markdown">
## ES2016ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

- 1æœˆ: å…¥ã‚Œã‚‹æ©Ÿèƒ½ã®ãƒ•ãƒªãƒ¼ã‚º
- 3æœˆ: ä»•æ§˜ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
- 6æœˆ: General Assemblyï¼ˆä¼šè­°ï¼‰ã®ã‚ã¨æ­£å¼ãƒªãƒªãƒ¼ã‚¹

ES2017ã‚‚åŒã˜ã‚ˆã†ãªãƒ•ãƒ­ãƒ¼ã§é€²ã‚€ã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚
2017å¹´ã®GAã¯6/13-14ã¨ã®ã“ã¨ã€‚

*http://www.ecma-international.org/memento/GA.htm*
</script>

<script layout="bullets" type="text/x-markdown">
### ã‚ã¨åŠå¹´ã»ã©ã§æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã¨ãªã‚‹ES2017  
### ã„ã£ãŸã„ã©ã‚“ãªä»•æ§˜ãŒè¿½åŠ ã•ã‚Œã‚‹ã®ã§ã—ã‚‡ã†ï¼Ÿ

*[finished-proposals.md](https://github.com/tc39/proposals/blob/master/finished-proposals.md)*
</script>




<script layout="cover" type="text/x-markdown" class="m0" backface="image/es.png">
# ES2016

- ãƒ»Array.prototype.includes
- ãƒ»Exponentiation Operator (\*\*)
</script>


<script layout="cover" type="text/x-markdown" class="m0" backface="image/es.png">
# ES2017

- ãƒ»Object.values / Object.entries
- ãƒ»String padding
- ãƒ»Object.getOwnPropertyDescriptors
- ãƒ»Trailing commas in function parameter lists and calls
- ãƒ»Async Functions

*https://github.com/tc39/proposals/blob/master/finished-proposals.md*
</script>


<script layout="code" type="text/x-markdown">
## 1. [Object.values / Object.entries](https://github.com/tc39/proposal-object-values-entries)

Object.keys ã®ä»²é–“  
Object.values ã¯å€¤ã®é…åˆ—ã‚’è¿”ã™  
Object.entries ã¯ã‚­ãƒ¼ã¨å€¤ãŒé…åˆ—ã«ãªã£ãŸé…åˆ—ã‚’è¿”ã™  


```js
const test = {a: 1, b: 'hoge'};
Object.keys(test); // ["a", "b"]
Object.values(test); // [1, "hoge"]
Object.entries(test); // [["a", 1], ["b", "hoge"]]
```
</script>


<script layout="code" type="text/x-markdown">
3ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚‚ã€åˆ—æŒ™ã•ã‚Œã‚‹ã®ã¯  
ã€Œä¸ãˆã‚‰ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã«å­˜åœ¨ã™ã‚‹  
åˆ—æŒ™å¯èƒ½ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€

ã‚³ãƒ¼ãƒ‰ã§ã„ã†ã¨ã€  
`hasOwnProperty(prop)`ã¨`propertyIsEnumerable(prop)`ãŒ  
ä¸¡æ–¹`true`ã«ãªã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒåˆ—æŒ™ã•ã‚Œã‚‹
</script>


<script layout="code" type="text/x-markdown">
## 2. [String padding](https://github.com/tc39/proposal-string-pad-start-end)

String.prototypeã«æ–‡å­—åŸ‹ã‚ã®ãŸã‚ã®2ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆpadStart, padEndï¼‰ãŒè¿½åŠ ã•ã‚Œã‚‹ã€‚
ç¬¬ä¸€å¼•æ•°ãŒæ–‡å­—é•·<br>ç¬¬äºŒå¼•æ•°ãŒåŸ‹ã‚ã‚‹æ–‡å­—åˆ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯`" "`ï¼‰


```js
'abc'.padStart(10);         // "       abc"
'abc'.padStart(10, "foo");  // "foofoofabc"
'abc'.padStart(6,"123465"); // "123abc"
'abc'.padEnd(10);         // "abc       "
'abc'.padEnd(10, "foo");  // "abcfoofoof"
'abc'.padEnd(6,"123465"); // "abc123"
```

*Code from https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/String/padStart*

</script>


<script layout="code" type="text/x-markdown">
### 3. [Object.getOwnPropertyDescriptors](https://github.com/tc39/proposal-object-getownpropertydescriptors)

ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã«å­˜åœ¨ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ç¾¤ã®Descriptorç¾¤ã‚’å–å¾—ã™ã‚‹

ä»Šã¾ã§ã¯Object.getOwnPropertyDescriptorã«å¯¾è±¡ã¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚’æ¸¡ã—ã¦ã²ã¨ã¤ã®Descriptorã‚’å–å¾—ã—ã¦ã„ãŸã®ã§ã€åˆ¥é€”ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åˆ—æŒ™ãŒå¿…è¦ã ã£ãŸ  
ãã‚Œã‚‰ã‚’ã¾ã¨ã‚ã¦è¡Œãˆã‚‹ä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰
</script>


<script layout="code" type="text/x-markdown">
## What is Descriptor?

JavaScript Objectã®Propertyã«ã¤ã„ã¦ã®è¨­å®šå€¤ã®ã‚»ãƒƒãƒˆ  
6ã¤ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¤  

- `Enumerable` ... åˆ—æŒ™å¯èƒ½ã‹ï¼ˆfor-inã§ç¾ã‚Œã‚‹ã‹ï¼‰
- `Configurable` ... Descriptorã‚’ç·¨é›†å¯èƒ½ã‹
- `Writable` ... å€¤ã‚’æ›¸ãæ›ãˆå¯èƒ½ã‹
- `Value` ... å€¤
- `Get, Set` ... Accessor Function (getter/setter)

[ES5, Property Descriptorè§£èª¬](http://constellation.hatenablog.com/entry/20101205/1291564928)
</script>

<script layout="code" type="text/x-markdown" class="m0">
```js
// Polyfillï¼ˆæŠœç²‹ï¼‰
// https://github.com/tc39/proposal-object-getownpropertydescriptors
function getOwnPropertyDescriptors(object) {
  return Reflect.ownKeys(object).reduce((descriptors, key) => {
    return Object.defineProperty(
      descriptors,
      key,
      {
        configurable: true,
        enumerable: true,
        writable: true,
        value: Object.getOwnPropertyDescriptor(object, key)
      }
    );
  }, {});
}
```
</script>


<script layout="code" type="text/x-markdown">
### 4. [Trailing commas in<br>function parameter lists and calls](https://github.com/tc39/proposal-trailing-function-commas)

å¼•æ•°ã‚’è¤‡æ•°è¡Œã§æ›¸ã„ãŸã¨ãã®ã‚±ãƒ„ã‚«ãƒ³ãƒã‚’è¨±å®¹ã™ã‚‹  
è¿½åŠ /å‰Šé™¤æ™‚ã®ä½™åˆ†ãªdiffã‚’å›é¿ã§ãã‚‹

```js
function clownPuppiesEverywhere(
  param1,
  param2, // <- ã“ã“
) {  }

clownPuppiesEverywhere(
  'foo',
  'bar', // <- ã“ã“
);
```
</script>


<script layout="code" type="text/x-markdown">
## 5. [Async Functions](https://github.com/tc39/ecmascript-asyncawait)

ES2017ã®ç›®ç‰ï¼  
éåŒæœŸå‡¦ç†ã‚’åŒæœŸçš„ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹

```
(async () => {
  console.log('async start');
  await new Promise((resolve) => setTimeout(resolve, 1000));
  console.log('async end'); // 1ç§’å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹
})().catch((error) => console.log(error));
```

async functionã¯Promiseã‚’è¿”ã™ã®ã§then/catchã‚’ç¹‹ã’ã‚‰ã‚Œã‚‹
</script>


<script layout="code" type="text/x-markdown">
ä¾‹ï¼šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®å–å¾—ã‚’ç¹°ã‚Šè¿”ã—ã¦ã€ç‰¹å®šã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒã‚ã£ãŸã‚‰æ­¢ã‚ã‚‹ï¼ˆé›‘ã«è¡¨ã™ã¨â†“ï¼‰ [demo](https://goo.gl/AZgzn1)

```js
(async () => {
  let result = true;
  while (result){
    result = await checkStatus(); // 0 or 1
  }
  console.log('end');
})();

function checkStatus() {
  return new Promise((resolve) => {
    setTimeout(()=>{
      resolve(parseInt(Math.random() * 2, 10));
    }, 1000)
  });
}
```
</script>


<script layout="code" type="text/x-markdown">
å®Ÿæ¡ˆä»¶ã§ä½¿ã£ã¦ã¿ã¦ã€å‹•çš„ã«æ¡ä»¶ãŒå¤‰ã‚ã‚‹ç›´åˆ—ã®éåŒæœŸå‡¦ç†ã§éå¸¸ã«åŠ©ã‹ã£ãŸ  
Node.jsã ã¨DBã¾ã‚ã‚Šã®å‡¦ç†ã§å¬‰ã—ã„ã¨ã„ã†å£°ã‚‚

ä¾‹å¤–å‡¦ç†ã®ã—ã‚„ã™ã•ã‚‚è‰¯ã„ãŒã€ãƒãƒã‚Šã©ã“ã‚ã§ã‚‚ã‚ã‚‹  
ç§ã®å ´åˆã¯ä»¥ä¸‹ã®è¨˜äº‹ãŒç†è§£ã®åŠ©ã‘ã«ãªã£ãŸ

- [JavaScriptã¯å¦‚ä½•ã«ã—ã¦Async/Awaitã‚’ç²å¾—ã—ãŸã®ã‹ ](http://qiita.com/gaogao_9/items/5417d01b4641357900c7)  
- [Promiseã¨async-awaitã®ä¾‹å¤–å‡¦ç†ã‚’å®Œå…¨ã«ç†è§£ã—ã‚ˆã†](http://qiita.com/gaogao_9/items/40babdf63c73a491acbb)
</script>


<script layout="title-invert" invert type="text/x-markdown"
  backface="image/goodpatch-bg.png" backface-filter="blur(3px) brightness(.3)" class="goodpatch">

### Goodpatchã§ã¯æ¥­å‹™ã§ES2017+ã‚’æ›¸ããŸã„<br>ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™

https://www.wantedly.com/projects/54185

æ˜¯éè©±ã—ã‹ã‘ã¦ãã ã•ã„ï¼
</script>


<script layout="cover" invert type="text/x-markdown"
  backface="image/cover.jpg" backface-filter="blur(0px) brightness(.5)">
# Thank<br>you
[@yoshiko_pg](http://yoshiko-pg.github.io/)
</script>


<script layout="bullets-invert" type="text/x-markdown">
# ãŠã¾ã‘
</script>


<script layout="bullets-invert" type="text/x-markdown">
### Stage 3ä»¥ä¸‹ã§å€‹äººçš„ã«å¬‰ã—ã„Proposals

- Stage 3: [Rest/Spread Properties](https://github.com/sebmarkbage/ecmascript-rest-spread) ... `a = {b, ...c}` æ›¸ããŸã„ã‚ˆã­ã€œ
- Stage 2: [Public Class Fields](https://tc39.github.io/proposal-class-public-fields/) ... ã‚„ã£ã¨ã¾ã¨ã‚‚ãªã‚¯ãƒ©ã‚¹ã«ãƒ»ãƒ»ãƒ»
- Stage 2: [Promise.prototype.finally](https://github.com/tc39/proposal-promise-finally) ... Native Promise ä½¿ã£ã¦ã„ã¦ã€æ¬²ã—ã„å ´é¢ã‘ã£ã“ã†å¤šã„
- Stage 1: [Private Fields](https://github.com/tc39/proposal-private-fields) ... `#`ã§ã¯ãªã„ã ã‚ã€œæ„Ÿã‚ã‚‹ã‘ã©ä½¿ã„ãŸã„
- Stage 1: [Observable](https://github.com/tc39/proposal-observable) ... async/awaitã«æ¬¡ãæœŸå¾…
- Stage 0: [Function Bind Syntax](https://github.com/tc39/proposal-bind-operator) ... æ›¸ãå‘³ã„ã„ã§ã™ã‚ˆãƒ»ãƒ»ãƒ»ï¼Ÿï¼Ÿ

**ã”åˆ©ç”¨ã¯è¨ˆç”»çš„ã«**
</script>




<script src="lib/highlight.min.js"></script>
<script src="lib/talkie.min.js"></script>
<script>
Talkie();

// ãƒªãƒ³ã‚¯ã¯åˆ¥ã‚¿ãƒ–
var i, links = document.querySelectorAll("a[href^='http']")
for(i=0; i<links.length; i++) {
  links[i].setAttribute('target', '_blank');
}
</script>
</body>
</html>
